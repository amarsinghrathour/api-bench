(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7314:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7134)}])},7134:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(2322),l=t(2784),r=t(7729),n=t.n(r),i=t(9281),c=t.n(i);function d(){let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)("GET"),[i,d]=(0,l.useState)(10),[o,h]=(0,l.useState)(!1),[u,m]=(0,l.useState)("{}"),[x,j]=(0,l.useState)(""),[_,p]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[f,b]=(0,l.useState)(null),[g,C]=(0,l.useState)(null),T=e=>{let s=e.filter(e=>e.success),t=s.map(e=>e.responseTime).sort((e,s)=>e-s),a=e.length,l=a>0?s.length/a*100:0;if(0===t.length)return{total:a,successful:0,failed:e.filter(e=>!e.success).length,pctOfSuccess:0,mean:0,median:0,min:0,max:0,stdDev:0,q5:0,q50:0,q95:0,q99:0};let r=t.reduce((e,s)=>e+s,0)/t.length,n=t[Math.floor(t.length/2)],i=t[0],c=t[t.length-1],d=t.reduce((e,s)=>e+Math.pow(s-r,2),0)/t.length,o=(e,s)=>{let t=Math.ceil(s/100*e.length)-1;return e[Math.max(0,t)]};return{total:a,successful:s.length,failed:e.filter(e=>!e.success).length,pctOfSuccess:Math.round(100*l)/100,mean:Math.round(100*r)/100,median:Math.round(100*n)/100,min:i,max:c,stdDev:Math.round(100*Math.sqrt(d))/100,q5:o(t,5),q50:n,q95:o(t,95),q99:o(t,99)}},S=async()=>{if(!e){alert("Please enter a URL");return}let s={};try{s=JSON.parse(u||"{}")}catch(e){alert("Invalid JSON in headers field");return}let a=null;if(x.trim())try{a=JSON.parse(x)}catch(e){alert("Invalid JSON in body field");return}let l={...s};!a||l["Content-Type"]||l["content-type"]||(l["Content-Type"]="application/json"),v(!0),b(null),C(null);try{let s=[],r=async s=>{let r=Date.now();try{let n={method:t,headers:l};a&&("POST"===t||"PUT"===t||"PATCH"===t)&&(n.body=JSON.stringify(a));let i=await fetch(e,n),c=Date.now()-r;return{iteration:s,statusCode:i.status,responseTime:c,success:i.ok,timestamp:r}}catch(t){let e=Date.now()-r;return{iteration:s,responseTime:e,success:!1,error:t instanceof Error?t.message:"Unknown error",timestamp:r}}};if(o){let e=Array.from({length:i},(e,s)=>r(s+1)),t=await Promise.all(e);s.push(...t)}else for(let e=0;e<i;e++){let t=await r(e+1);s.push(t)}b(s),C(T(s))}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{v(!1)}};return(0,a.jsxs)("div",{className:c().container,children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"ApiBench - API Performance Testing"}),(0,a.jsx)("meta",{name:"description",content:"Test your API endpoint performance"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:c().main,children:[(0,a.jsx)("h1",{className:c().title,children:"ApiBench"}),(0,a.jsx)("p",{className:c().description,children:"Test the speed and resilience of your API endpoints"}),(0,a.jsxs)("div",{className:c().form,children:[(0,a.jsxs)("div",{className:c().formGroup,children:[(0,a.jsx)("label",{htmlFor:"url",children:"URL"}),(0,a.jsx)("input",{id:"url",type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"https://api.github.com/zen",disabled:N})]}),(0,a.jsxs)("div",{className:c().formRow,children:[(0,a.jsxs)("div",{className:c().formGroup,children:[(0,a.jsx)("label",{htmlFor:"method",children:"Method"}),(0,a.jsxs)("select",{id:"method",value:t,onChange:e=>r(e.target.value),disabled:N,children:[(0,a.jsx)("option",{value:"GET",children:"GET"}),(0,a.jsx)("option",{value:"POST",children:"POST"}),(0,a.jsx)("option",{value:"PUT",children:"PUT"}),(0,a.jsx)("option",{value:"PATCH",children:"PATCH"}),(0,a.jsx)("option",{value:"DELETE",children:"DELETE"})]})]}),(0,a.jsxs)("div",{className:c().formGroup,children:[(0,a.jsx)("label",{htmlFor:"iterations",children:"Iterations"}),(0,a.jsx)("input",{id:"iterations",type:"number",value:i,onChange:e=>d(parseInt(e.target.value)||10),min:"1",max:"1000",disabled:N})]})]}),(0,a.jsx)("div",{className:c().formGroup,children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:e=>h(e.target.checked),disabled:N}),"Run requests in parallel"]})}),(0,a.jsx)("div",{className:c().formGroup,children:(0,a.jsxs)("button",{type:"button",className:c().toggleButton,onClick:()=>p(!_),disabled:N,children:[_?"▼":"▶"," Advanced Options"]})}),_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:c().formGroup,children:[(0,a.jsx)("label",{htmlFor:"headers",children:"Headers (JSON)"}),(0,a.jsx)("textarea",{id:"headers",value:u,onChange:e=>m(e.target.value),placeholder:'{"Authorization": "Bearer token", "User-Agent": "MyApp"}',rows:4,disabled:N,className:c().textarea}),(0,a.jsxs)("small",{className:c().helpText,children:["Enter headers as JSON object. Example: ","{",'"Authorization": "Bearer token"',"}"]})]}),(0,a.jsxs)("div",{className:c().formGroup,children:[(0,a.jsx)("label",{htmlFor:"body",children:"Request Body (JSON)"}),(0,a.jsx)("textarea",{id:"body",value:x,onChange:e=>j(e.target.value),placeholder:'{"key": "value"}',rows:6,disabled:N,className:c().textarea}),(0,a.jsx)("small",{className:c().helpText,children:"Enter request body as JSON. Only used for POST, PUT, PATCH requests."})]})]}),(0,a.jsx)("button",{className:c().button,onClick:S,disabled:N||!e,children:N?"Running...":"Run Tests"})]}),g&&(0,a.jsxs)("div",{className:c().results,children:[(0,a.jsx)("h2",{children:"Statistics"}),(0,a.jsxs)("div",{className:c().statsGrid,children:[(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Total Requests"}),(0,a.jsx)("div",{className:c().statValue,children:g.total})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Successful"}),(0,a.jsx)("div",{className:c().statValue,children:g.successful})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Failed"}),(0,a.jsx)("div",{className:c().statValue,children:g.failed})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Success Rate"}),(0,a.jsxs)("div",{className:c().statValue,children:[g.pctOfSuccess.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Mean (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.mean.toFixed(2)})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Median (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.median.toFixed(2)})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Min (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.min})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Max (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.max})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"Std Dev (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.stdDev.toFixed(2)})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"95th Percentile (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.q95})]}),(0,a.jsxs)("div",{className:c().statCard,children:[(0,a.jsx)("div",{className:c().statLabel,children:"99th Percentile (ms)"}),(0,a.jsx)("div",{className:c().statValue,children:g.q99})]})]})]}),f&&f.length>0&&(0,a.jsxs)("div",{className:c().results,children:[(0,a.jsx)("h2",{children:"Results"}),(0,a.jsx)("div",{className:c().tableContainer,children:(0,a.jsxs)("table",{className:c().table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Iteration"}),(0,a.jsx)("th",{children:"Status"}),(0,a.jsx)("th",{children:"Response Time (ms)"}),(0,a.jsx)("th",{children:"Success"}),(0,a.jsx)("th",{children:"Error"})]})}),(0,a.jsx)("tbody",{children:f.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.iteration}),(0,a.jsx)("td",{children:e.statusCode||"N/A"}),(0,a.jsx)("td",{children:e.responseTime}),(0,a.jsx)("td",{children:e.success?(0,a.jsx)("span",{className:c().success,children:"✓"}):(0,a.jsx)("span",{className:c().error,children:"✗"})}),(0,a.jsx)("td",{className:c().errorCell,children:e.error?(0,a.jsx)("span",{className:c().error,title:e.error,children:e.error.length>50?e.error.substring(0,50)+"...":e.error}):"-"})]},e.iteration))})]})})]})]})]})}},9281:function(e){e.exports={container:"Home_container__9OuOz",main:"Home_main__2uIek",title:"Home_title__YEn0u",description:"Home_description__zHUB6",form:"Home_form__P1Xey",formGroup:"Home_formGroup__4d6Bt",textarea:"Home_textarea__8_W6X",helpText:"Home_helpText__Au4Po",toggleButton:"Home_toggleButton__Gyp3I",formRow:"Home_formRow__OXa5_",button:"Home_button__Mzpzz",results:"Home_results__QjE43",statsGrid:"Home_statsGrid___Y9es",statCard:"Home_statCard__2UclM",statLabel:"Home_statLabel__rkjtq",statValue:"Home_statValue__AfjME",tableContainer:"Home_tableContainer__bz1JV",table:"Home_table__ZxOl3",success:"Home_success__0M_zV",error:"Home_error__w_26N",errorCell:"Home_errorCell__JTMwu"}},7729:function(e,s,t){e.exports=t(8792)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7314)}),_N_E=e.O()}]);